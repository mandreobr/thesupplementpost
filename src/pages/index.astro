---
import { getCollection } from 'astro:content';
import { CATEGORY_CONFIG } from '../config/categories';

const reviews = await getCollection('reviews');

// Mantemos isso para uso futuro (categorias), mas não mostramos na interface por enquanto
const categoriesInUse = Object.entries(CATEGORY_CONFIG).filter(
  ([label]) => reviews.some((r) => r.data.category === label)
);

// Imagens do carrossel full-width (use os arquivos que já estão em /public)
const heroCarouselImages = [
  { src: '/woman-plank.jpg', alt: 'Woman exercising on the beach' },
  { src: '/supplements-yellow.jpg', alt: 'Supplements on a yellow background' },
  { src: '/back-muscles.jpg', alt: 'Back muscles of a fit woman at the gym' },
  { src: '/omega-softgels.jpg', alt: 'Omega-3 softgels spilling from a jar' },
  { src: '/barbell-gym.jpg', alt: 'Athlete holding barbell at the gym' },
  { src: '/old-man-gym.jpg', alt: 'Older man training at the gym' },
  { src: '/supplements-hand.jpg', alt: 'Hands holding colorful supplement capsules' }
];

// Duplicamos para o efeito de loop suave
const scrollingImages = [...heroCarouselImages, ...heroCarouselImages];
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Best Supplements Today — Expert Supplement Reviews</title>
    <meta
      name="description"
      content="With BestSupplementsToday you compare the best supplements for every health goal — with expert reviews organized by health category."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="canonical" href="https://bestsupplementstoday.com/" />

    <!-- Favicon global -->
    <link rel="icon" href="/favicon-bst.png" type="image/png" sizes="32x32" />

    <style>
      :root {
        --text-main: #0f172a;
        --text-muted: #64748b;
        --accent-soft: #e0f2fe;
        --accent: #0ea5e9;
      }

      body {
        margin: 0;
        background: #ffffff; /* fundo totalmente branco */
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        color: var(--text-main);
      }

      a {
        text-decoration: none;
        color: inherit;
      }

      /* HEADER */
      header {
        background: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        padding: 12px 0;
        display: flex;
        justify-content: center;
      }

      .logo-img {
        height: 52px; /* logo maior */
      }

      /* MAIN */
      main {
        max-width: 880px;
        margin: 0 auto;
        padding: 32px 16px 40px 16px;
        text-align: center;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 12px;
        border-radius: 999px;
        background: var(--accent-soft);
        color: #0369a1;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        margin-bottom: 12px;
      }

      .pill-dot {
        width: 6px;
        height: 6px;
        background: var(--accent);
        border-radius: 999px;
      }

      h1 {
        font-size: 32px;
        font-weight: 700;
        margin: 6px 0 12px;
      }

      .hero-sub {
        max-width: 640px;
        margin: 0 auto;
        color: var(--text-muted);
        font-size: 15px;
      }

      /* INTRO BLOCK */
      .intro-card {
        margin-top: 34px;
        text-align: left;
        font-size: 15px;
        color: var(--text-muted);
        line-height: 1.55;
      }

      .intro-card h2 {
        font-size: 18px;
        margin-bottom: 8px;
        color: var(--text-main);
      }

      footer {
        border-top: 1px solid #e5e7eb;
        padding: 16px;
        text-align: center;
        font-size: 12px;
        color: var(--text-muted);
        background: #ffffff;
      }

      /* CARROSSEL FULL-WIDTH */

      .carousel-full {
        margin-top: 40px;
        /* Quebra o container e vai de ponta a ponta */
        width: 100vw;
        margin-left: calc(50% - 50vw);
        background: radial-gradient(circle at top left, #e0f2fe 0, #ffffff 45%);
        border-top: 1px solid #e5e7eb;
        border-bottom: 1px solid #e5e7eb;
      }

      .carousel-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 18px 16px 22px 16px;
      }

      .carousel-title {
        font-size: 11px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: var(--text-muted);
        margin-bottom: 10px;
      }

      .carousel-viewport {
        overflow: hidden;
        width: 100%;
      }

      .carousel-track {
        display: flex;
        align-items: center;
        gap: 22px;
        animation: scroll-strip 38s linear infinite;
      }

      .carousel-item {
        flex: 0 0 auto;
        width: 320px;
        height: 190px;
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.25);
      }

      .carousel-item img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: cover;
      }

      @media (min-width: 1024px) {
        .carousel-item {
          width: 360px;
          height: 210px;
        }
      }

      @keyframes scroll-strip {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(-50%);
        }
      }
    </style>
  </head>

  <body>
    <header>
      <a href="/">
        <img src="/logo-bst.png" alt="Best Supplements Today" class="logo-img" />
      </a>
    </header>

    <main>
      <div class="pill">
        <span class="pill-dot"></span>
        Evidence-based supplement hub
      </div>

      <h1>Explore supplement reviews by category</h1>

      <p class="hero-sub">
        Navigate by health goal — from weight loss and brain support to circulation,
        liver, dental care, men’s and women’s health.
      </p>

      <!-- INTRO -->
      <article class="intro-card">
        <h2>With BestSupplementsToday you compare the best supplements for every health goal</h2>

        <p>
          At <strong>BestSupplementsToday.com</strong>, we review and compare
          the best supplements across every major health category — from Weight Loss,
          Men’s &amp; Women’s Health, and Heart &amp; Circulation to Liver, Gut,
          Dental, Hearing, and Brain Health.
        </p>

        <p>
          Our editorial team researches <strong>ingredient quality</strong>,
          <strong>scientific evidence</strong>, and <strong>real user results</strong>
          to deliver honest supplement reviews you can trust.
        </p>

        <p>
          Each product is independently analyzed for safety, effectiveness, and value —
          helping you find the top-rated supplements that truly match your goals.
        </p>
      </article>
    </main>

    <!-- CARROSSEL FULL-WIDTH AUTOPLAY -->
    <section class="carousel-full">
      <div class="carousel-inner">
        <div class="carousel-title">Health &amp; lifestyle snapshots</div>
        <div class="carousel-viewport">
          <div class="carousel-track">
            {scrollingImages.map((img) => (
              <div class="carousel-item">
                <img src={img.src} alt={img.alt} loading="lazy" />
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <footer>
      © {new Date().getFullYear()} Best Supplements Today — Independent supplement reviews
    </footer>
  </body>
</html>
