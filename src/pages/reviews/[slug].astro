---
import FullReviewLayout from "../../layouts/FullReviewLayout.astro";
import { getEntryBySlug } from "astro:content";

const { slug } = Astro.params;

if (!slug) {
  throw new Error("Slug is required for review page.");
}

const entry = await getEntryBySlug("reviews", slug);

if (!entry) {
  throw new Error(`Review not found for slug: ${slug}`);
}

const { Content } = await entry.render();
const data = entry.data;
---

<FullReviewLayout
  pageTitle={data.pageTitle}
  metaDescription={data.metaDescription}
  footerCtaLabel={data.footerCtaLabel}
  footerCtaUrl={data.footerCtaUrl}
  footerText={data.footerText}
>
  <Content />
</FullReviewLayout>
